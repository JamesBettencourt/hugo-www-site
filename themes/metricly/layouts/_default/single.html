{{ define "main" }}

<div class="blog blog--post">
  {{ partial "header/blog-header.html" . }}
  <main class="main-wrapper">
    <div class="container">
      <div class="return">
        <a href="/blog/">
          <svg height="11" viewBox="0 0 7 11" width="7" xmlns="http://www.w3.org/2000/svg">
            <path d="m.81803571 10.1427143c-.18385714-.19028573-.48985714-.19028573-.68014285 0-.18385715.1838571-.18385715.4898571 0 .6732857l3.44871428 3.4487143.44679491.48-.44679491.4795714-3.44871428 3.4422857c-.18385715.1902857-.18385715.4967143 0 .6801429.19028571.1902857.49671428.1902857.68014285 0l4.26514286-4.2651429c.19028572-.1838571.19028572-.4898571 0-.6732857z"
              fill="#1e201d" fill-rule="evenodd" stroke="#1e201d" stroke-width=".4" transform="matrix(-1 0 0 1 6.225892 -9)" /></svg>
          Blog
        </a>
      </div>
      <div class="d-flex justify-content-center mt-3 mt-md-0">
      {{- with .Params.category }}
      {{- with $.Site.GetPage "taxonomyTerm" (printf "category/%s" (urlize .)) }}
      <a href="{{ .Permalink }}" class="title-category">{{ .Params.name }}</a>
      {{ end }}
      {{ end }}
      </div>
      <h1 class="title">{{ .Title }}</h1>
      <div class="author d-flex justify-content-center mt-3 align-items-center">
        {{- with .Params.author }}
        {{- with $.Site.GetPage "taxonomyTerm" (printf "author/%s" (urlize .)) }}
        <img class="author__photo img-fluid" src="{{ .Params.photo }}" alt="author">
        <style media="screen">
          .blog .author__photo {
            width: 50px;
            height: 50px;
          }
          .devops-join {
            display: none;
          }
        </style>
        {{ end }}
        {{ end }}
        <div>
          <div class="author__name">{{ .Params.author }}</div>
          <div class="author__time">{{ .ReadingTime }} min read</div>
        </div>
      </div>
      {{ if .Param "featured-image" }}<img class="image shadow" src="/img/blog/{{ .Param "featured-image" }}" alt="post image">
      {{ else }}
      <!-- Insert Div as space for no image -->
      <div class="pb-md-5"></div>
      {{ end }}
      <div class="row">
        <div class="d-none">
          <div class="social-block">
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.metricly.com/{{ .Params.url }}" target="_blank">
              <svg class="icon --facebook" height="30" viewBox="0 0 30 30" width="30" xmlns="http://www.w3.org/2000/svg">
                <g fill="none" fill-rule="evenodd">
                  <circle cx="15" cy="15" fill="#ebebeb" r="15" />
                  <path d="m1.917 8.3296875v6.3365625h3.268v-6.3009375h2.232l.54-2.625h-2.747v-1.925625c-.01639647-.15985255.04013517-.31874381.15560766-.43736035s.27909821-.18587703.45039234-.18513965h1.587v-2.6821875h-2.964c-1.34575077.17354028-2.39177932 1.18513964-2.535 2.4515625v2.6990625h-1.5v2.6625z"
                    fill="#333" class="icon-fill" transform="translate(11 8)" />
                </g>
              </svg>
            </a>
            <a  href="https://www.facebook.com/sharer/sharer.php?u=https://twitter.com/home?status=https://www.metricly.com/{{ .Params.url }}" target="_blank">
              <svg class="icon --twitter" height="30" viewBox="0 0 30 30" width="30" xmlns="http://www.w3.org/2000/svg">
                <g fill="none" fill-rule="evenodd">
                  <circle cx="15" cy="15" fill="#ebebeb" r="15" />
                  <path d="m4.23338462 10.7692308c5.07984615 0 7.85830768-4.14356782 7.85830768-7.73685114 0-.1176909 0-.23485165-.0080769-.35148227.5405246-.3849283 1.0071145-.8615401 1.3779231-1.40751951-.5040652.21990267-1.0387843.36411477-1.5863077.42782231.5765544-.33982872 1.0080665-.87432037 1.2142307-1.50400483-.5421459.31673446-1.1352674.53995312-1.7537692.66002327-.8561093-.89625632-2.2164588-1.11561821-3.31824269-.53508011s-1.67099385 1.81659917-1.38844961 3.01507116c-2.22067153-.10960652-4.28966689-1.14227854-5.69207692-2.84101583-.73304929 1.24245788-.35862191 2.83192897.85507692 3.62986293-.43952397-.01282537-.86946495-.12955903-1.25353846-.34034935v.03445904c.00035976 1.29438408.92709695 2.40923612 2.21576923 2.66553977-.40660868.10917689-.83322584.12513633-1.24707692.04665225.36181811 1.10768489 1.39869399 1.86650545 2.58030769 1.88835574-.97798883.75673759-2.1861218 1.1675402-3.43 1.16630618-.21974423-.00041534-.43927474-.01351458-.65746154-.0392303 1.26303474.79800609 2.73264568 1.22129059 4.23338462 1.21932009"
                    fill="#333" class="icon-fill" transform="translate(9 10)" />
                </g>
              </svg>
            </a>
            <a href="http://reddit.com/submit?url=https%3A%2F%2Fwww.metricly.com/{{ .Params.url }}" target="_blank">
              <svg class="icon --link" height="30" viewBox="0 0 30 30" width="30" xmlns="http://www.w3.org/2000/svg">
                <g fill="none" fill-rule="evenodd">
                  <circle cx="15" cy="15" fill="#ebebeb" r="15" />
                  <g class="icon-fill" fill="#333" transform="translate(6 6), scale(0.7)">
                    <path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.715 0-1.363.286-1.84.746-1.81-1.191-4.259-1.949-6.971-2.046l1.483-4.669 4.016.941-.006.058c0 1.193.975 2.163 2.174 2.163 1.198 0 2.172-.97 2.172-2.163s-.975-2.164-2.172-2.164c-.92 0-1.704.574-2.021 1.379l-4.329-1.015c-.189-.046-.381.063-.44.249l-1.654 5.207c-2.838.034-5.409.798-7.3 2.025-.474-.438-1.103-.712-1.799-.712-1.465 0-2.656 1.187-2.656 2.646 0 .97.533 1.811 1.317 2.271-.052.282-.086.567-.086.857 0 3.911 4.808 7.093 10.719 7.093s10.72-3.182 10.72-7.093c0-.274-.029-.544-.075-.81.832-.447 1.405-1.312 1.405-2.318zm-17.224 1.816c0-.868.71-1.575 1.582-1.575.872 0 1.581.707 1.581 1.575s-.709 1.574-1.581 1.574-1.582-.706-1.582-1.574zm9.061 4.669c-.797.793-2.048 1.179-3.824 1.179l-.013-.003-.013.003c-1.777 0-3.028-.386-3.824-1.179-.145-.144-.145-.379 0-.523.145-.145.381-.145.526 0 .65.647 1.729.961 3.298.961l.013.003.013-.003c1.569 0 2.648-.315 3.298-.962.145-.145.381-.144.526 0 .145.145.145.379 0 .524zm-.189-3.095c-.872 0-1.581-.706-1.581-1.574 0-.868.709-1.575 1.581-1.575s1.581.707 1.581 1.575-.709 1.574-1.581 1.574z"/>
                  </g>
                </g>
              </svg>
            </a>
          </div>
        </div>
        <div class="col-lg-9 col-md-12 col-sm-12">
          <div class="post-content" id="blog-content">
            {{.Content}}
            <div class="learn-more">
              <div class="title-category">Learn more</div>
              <div class="learn-more__title">About Metricly</div>
              <p>Metricly coaches users throughout their cloud journey to organize, plan, analyze, and optimize their public cloud resources.</p>
              <a href="/signup/?utm_source=post&utm_campaign={{ .Params.url }}" class="btn">Try Metricly Free</a>
            </div>
            {{- with .Params.author }}
            {{- with $.Site.GetPage "taxonomyTerm" (printf "author/%s" (urlize .)) }}
            <section class="about-author">
              <h2>About the Author</h2>
              <div class="post-content__author">
                <img src="{{ .Params.photo }}" alt="author photo">
                <div>
                  <h6>{{ .Params.name }}</h6>
                  {{ .Content }}
                </div>
              </div>
            </section>
            {{ end }}
            {{ end }}
          </div>
        </div>
        <div class="aside-stories col-lg-3">
          <div class="similar-stories">
            <div class="title-h3">Similar Articles</div>
            {{ $pages := .Site.Pages.ByPublishDate.Reverse }}
            {{ $currentcategory := .Params.category }}
            {{ $top1 := where $pages ".Params.category" "=" $currentcategory | first 2 }}
            {{ $featured := where $pages ".Params.featured" "=" true | complement $top1 | first 5 }}
            <ul class="stories-list">
              {{ range $top1 }}
              <li>
                <a href="{{ if .Params.url }}{{ .Params.url }}{{ else }}{{ .Permalink }}{{ end }}">
                  <div>
                    <div class="title-category">{{ .Params.category }}</div>
                    <div class="stories-list__title">{{ .Title }}</div>
                  </div>
                </a>
              </li>
              {{ end }}
            </ul>
          </div>
          <div class="learn-more">
            <div class="title-category">Learn more</div>
            <div class="learn-more__title">About Metricly</div>
            <p>Metricly coaches users throughout their cloud journey to organize, plan, analyze, and optimize their public cloud resources.</p>
            <a href="/signup/?utm_source=post&utm_campaign={{ .Params.url }}" class="btn">Try Metricly Free</a>
          </div>
        </div>
      </div>
    </div>
    <section class="multiple-slider">
      <div class="container">
        <h2 class="title-h2 --popular">
          popular stories
          <div class="swiper-button-next swiper-btn-m-three-next">
            <svg height="10" viewBox="0 0 19 10" width="19" xmlns="http://www.w3.org/2000/svg">
              <path d="m13.3735714.42624339c-.1838571-.18793651-.4898571-.18793651-.6801428 0-.1838572.1815873-.1838572.48380952 0 .66497354l3.4487143 3.40613757h-15.66600004c-.26528572.00042328-.47614286.20867725-.47614286.47068783s.21085714.47703704.47614286.47703704h15.66600004l-3.4487143 3.39978835c-.1838572.18793651-.1838572.49058202 0 .67174604.1902857.1879365.4967143.1879365.6801428 0l4.2651429-4.21248678c.1902857-.1815873.1902857-.48380952 0-.66497354z"
                fill-rule="evenodd" stroke-width=".4" transform="matrix(-1 0 0 1 18 0)" /></svg>
          </div>
          <div class="swiper-button-prev swiper-btn-m-three-prev">
            <svg height="10" viewBox="0 0 19 10" width="19" xmlns="http://www.w3.org/2000/svg">
              <path d="m13.3735714.42624339c-.1838571-.18793651-.4898571-.18793651-.6801428 0-.1838572.1815873-.1838572.48380952 0 .66497354l3.4487143 3.40613757h-15.66600004c-.26528572.00042328-.47614286.20867725-.47614286.47068783s.21085714.47703704.47614286.47703704h15.66600004l-3.4487143 3.39978835c-.1838572.18793651-.1838572.49058202 0 .67174604.1902857.1879365.4967143.1879365.6801428 0l4.2651429-4.21248678c.1902857-.1815873.1902857-.48380952 0-.66497354z"
                fill-rule="evenodd" stroke-width=".4" transform="matrix(-1 0 0 1 18 0)" /></svg>
          </div>
        </h2>
        <div class="multiple-slider__swiper swiper-multiple-three">
          <div class="swiper-wrapper">
            {{ range $featured }}
            <div class="swiper-slide">
              <a href="{{ if .Params.url }}{{ .Params.url }}{{ else }}{{ .Permalink }}{{ end }}"><img class="img-fluid" src="/img/blog/{{ if .Param "featured-image" }}{{ if .Param "thumbnail-image" }}small-version/{{ .Param "featured-image" }}{{ else }}small-version/default.svg{{ end }}{{ else }}small-version/default.svg{{ end }}" alt="post image"></a>
              {{- with .Params.category }}
              {{- with $.Site.GetPage "taxonomyTerm" (printf "category/%s" (urlize .)) }}
              <a href="{{ .Permalink }}" class="title-category">{{ .Params.name }}</a>
              {{ end }}
              {{ end }}
              <a href="{{ if .Params.url }}{{ .Params.url }}{{ else }}{{ .Permalink }}{{ end }}" class="title-h3">{{ .Title }}</a>
              <div class="name">{{ if .Params.author }}{{ .Params.author }}&nbsp;|&nbsp;{{ else }}{{ end }}{{ .ReadingTime }} min read</div>
            </div>
            {{ end }}
          </div>
        </div>
      </div>
    </section>
  </main>
</div>

{{ end }}
